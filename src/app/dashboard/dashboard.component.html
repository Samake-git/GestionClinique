<!-- Div principale contenant tout le contenu pour les Tickets -->


<div class="row">
    <div class="section1">

          
    <div class="card-container">
      <!-- Card 1: Budget -->
      <div class="card custom-card">
        <div class="card-icon">
          <mat-icon style="color: #ee4d2d">monetization_on</mat-icon> <!-- Icône Budget -->
        </div>
        <div class="card-title">Budget</div>
        <div class="card-value">10,000€</div> <!-- Données temporaires -->
      </div>

      <!-- Card 2: Total Patients -->
      <div class="card custom-card">
        <div class="card-icon">
          <mat-icon style="color: #ee4d2d">people</mat-icon> 
        </div>
        <div class="card-title">Total Patients</div>
        <div class="card-value">{{totalPatients}}</div> 
      </div>

      <!-- Card 3: Total Tickets -->
      <div class="card custom-card">
        <div class="card-icon">
          <mat-icon style="color: #ee4d2d">confirmation_number</mat-icon> 
        </div>
        <div class="card-title">Total Tickets</div>
        <div class="card-value">{{ totalTickets }}</div> 
      </div>
    
       <div class="card custom-card" (click)="goToListeAnalyse()" style="cursor: pointer;">
        <div class="card-icon">
          <mat-icon style="color: #ee4d2d">list_alt</mat-icon>
         </div>
        <div class="card-title">Liste Analyses</div>
        <div class="card-value">{{ totalAnalyses }}</div> 
      </div> 

    </div>


    <div class="card">
      <h3>Nombre de tickets par jour</h3>
      <p-chart type="line" [data]="lineData" [options]="lineOptions"></p-chart>
    </div>

    <div class="main-container scroll">
      <h2>Liste des Tickets</h2>
    <!-- Tableau des tickets -->
    <div class="table-container" (scroll)="true">
      <table mat-table [dataSource]="tickets" class="mat-elevation-z8">

        <!-- Colonne Description -->
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Description </th>
          <td mat-cell *matCellDef="let ticket"> {{ ticket.description }} </td>
        </ng-container>

        <!-- Colonne Téléphone -->
        <ng-container matColumnDef="tel">
          <th mat-header-cell *matHeaderCellDef> Téléphone </th>
          <td mat-cell *matCellDef="let ticket"> {{ ticket.tel }} </td>
        </ng-container>

        <!-- Colonne État -->
        <ng-container matColumnDef="etat">
          <th mat-header-cell *matHeaderCellDef> État </th>
          <td mat-cell *matCellDef="let ticket"> {{ ticket.etat }} </td>
        </ng-container>

         <!-- Colonne Actions -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions </th>
          <td mat-cell *matCellDef="let ticket">
            <div *ngIf="isMedecin()">
              <button mat-icon-button (click)="prendreEnCharge(ticket)" aria-label="Prendre en charge">
                <mat-icon color="primary">assignment_turned_in</mat-icon>
              </button>
              <button mat-icon-button (click)="traiter(ticket)" aria-label="Traiter">
                <mat-icon color="accent">check_circle</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['description', 'tel', 'etat', 'actions']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['description', 'tel', 'etat', 'actions'];"></tr>
      </table>
    </div>

  </div>

  </div>
  <div class="section2">

    <div class="test">
      <h3 class="ecris">Hello, Bienvenu sur <br>le Dashboard <br> Receptionniste</h3>
    </div>
      
    <div class="card ">
      <h3>Etat des Tickets</h3>
      <p-chart type="doughnut" [data]="doughnutData" [options]="doughnutOptions"></p-chart>
    </div>
  </div>
</div>

 

  
  