<div>
  <h2>{{ isEditing ? 'Modifier Détail de Prescription' : 'Créer Détail de Prescription' }}</h2>
  <form [formGroup]="detailForm" (ngSubmit)="submitDetail()">
      <input formControlName="nomMedicament" placeholder="Nom Médicament" required />
      <input formControlName="dosage" placeholder="Dosage" required />
      <input formControlName="frequence" placeholder="Fréquence" required />
      <input formControlName="duree" placeholder="Durée" required />
      <input formControlName="instructions" placeholder="Instructions" required />
      <input formControlName="datePremierDose" type="date" required />
      <input formControlName="heurePremierDose" type="time" required />
      <button type="submit" [disabled]="detailForm.invalid">{{ isEditing ? 'Modifier Détail' : 'Créer Détail' }}</button>
  </form>
</div>


  <div>
    <h2>Détails de Prescription</h2>
    <table mat-table [dataSource]="prescriptionDetails" class="mat-elevation-z8">
      <ng-container matColumnDef="nomMedicament">
          <th mat-header-cell *matHeaderCellDef> Nom Médicament </th>
          <td mat-cell *matCellDef="let detail"> {{ detail.nomMedicament }} </td>
      </ng-container>
  
      <ng-container matColumnDef="dosage">
          <th mat-header-cell *matHeaderCellDef> Dosage </th>
          <td mat-cell *matCellDef="let detail"> {{ detail.dosage }} </td>
      </ng-container>
  
      <ng-container matColumnDef="frequence">
          <th mat-header-cell *matHeaderCellDef> Fréquence </th>
          <td mat-cell *matCellDef="let detail"> {{ detail.frequence }} </td>
      </ng-container>
  
      <ng-container matColumnDef="duree">
          <th mat-header-cell *matHeaderCellDef> Durée </th>
          <td mat-cell *matCellDef="let detail"> {{ detail.duree }} </td>
      </ng-container>
  
      <ng-container matColumnDef="instructions">
          <th mat-header-cell *matHeaderCellDef> Instructions </th>
          <td mat-cell *matCellDef="let detail"> {{ detail.instructions }} </td>
      </ng-container>
  
      <ng-container matColumnDef="datePremierDose">
        <th mat-header-cell *matHeaderCellDef> Date Première Dose </th>
        <td mat-cell *matCellDef="let detail"> {{ detail.datePremierDose | date:'dd/MM/yyyy' }} </td>
      </ng-container>
  
      <ng-container matColumnDef="heurePremierDose">
        <th mat-header-cell *matHeaderCellDef> Heure Première Dose </th>
        <td mat-cell *matCellDef="let detail"> {{ detail.heurePremierDose | date:'shortTime' }} </td>
      </ng-container>
  
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let detail">
            <button mat-icon-button (click)="editDetail(detail.id)" aria-label="Modifier">
                <mat-icon>edit</mat-icon> 
            </button>
            <button mat-icon-button (click)="deleteDetail(detail.id)" aria-label="Supprimer">
                <mat-icon>delete</mat-icon> 
            </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="['nomMedicament', 'dosage', 'frequence', 'duree', 'instructions', 'datePremierDose', 'heurePremierDose', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['nomMedicament', 'dosage', 'frequence', 'duree', 'instructions', 'datePremierDose', 'heurePremierDose', 'actions'];"></tr>
  </table>
  </div>